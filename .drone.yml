---
kind: pipeline
type: docker
name: test

steps:
- name: jest
  image: cfreak/jest
  pull: always
  commands:
  - echo $0

- name: jest test
  image: node:latest
  commands:
  - |
    echo install node.js package manager
    npm install
    echo getting node version
    node --version
    echo run jest test
    npm test
  depends_on: 
    - jest

trigger:
  branch:
  - main